!function(){"use strict";const t="sba-settings",e={version:"5.1.0",label:"Spelling Bee Assistant",title:"Assistant",url:"https://spelling-bee-assistant.app/",prefix:"sba",support:{url:"https://ko-fi.com/sbassistant",text:"Tip Jar"},targetUrl:"https://www.nytimes.com/puzzles/spelling-bee",options:JSON.parse(localStorage.getItem(t)||"{}")},a=()=>{localStorage.setItem(t,JSON.stringify(e.options))};(()=>{if("boolean"!=typeof e.options.darkMode)return;console.warn(`⚠️ ${e.label} detected legacy settings format. Performing migration to 5.0.0...`);const t={},o=["darkModeColors","yourProgress","version","oldVersion","score","community"],s=["enabled","shortcuts"];for(const[a,r]of Object.entries(e.options))if(!o.includes(a)&&"darkMode"!==a&&"object"==typeof r){const e={...r};s.forEach((t=>delete e[t])),t[a]=e}if("darkMode"in e.options){const a={mode:e.options.darkMode?"dark":"light",hsl:{hue:0,sat:0,lig:7}};"object"==typeof e.options.darkModeColors&&(a.hsl=Object.assign(a.hsl,e.options.darkModeColors)),t.darkMode=a}e.options={...t,version:"5.0.0",oldVersion:e.options.version||null},a()})();var o=t=>{const a=t.split(".");let o=e;for(const t of a){if("object"!=typeof o||!(t in o))return;o=o[t]}return o},s=(t,o)=>{const s=t.split("."),r=s.pop();let n=e;for(const t of s){if("object"!=typeof n[t]){if(void 0!==n[t])return console.error(`${t} is not an object`),!1;n[t]={}}n=n[t]}return n[r]=o,a(),!0};const r=o("prefix"),n=t=>t.replace(/[_-]+/," ").replace(/(?:^[\w]|[A-Z]|\b\w|\s+)/g,(function(t,e){return 0==+t?"":0===e?t.toLowerCase():t.toUpperCase()})),i=(t="",e="c")=>{switch(e){case"c":return n(r+"_"+t);case"d":return(t=>t.replace(/[\W_]+/g," ").split(/ |\B(?=[A-Z])/).map((t=>t.toLowerCase())).join("-"))(r+t.charAt(0).toUpperCase()+t.slice(1));default:return r+t}};let l;const d=window.gameData.today;let c;const p=()=>{l.foundPangrams=l.foundTerms.filter((t=>l.pangrams.includes(t))),l.remainders=l.answers.filter((t=>!l.foundTerms.includes(t))),c.trigger(i("refreshUi"))},h=t=>l[t].length,b=t=>{const e=l[t];let a=0;return e.forEach((t=>{l.pangrams.includes(t)?a+=t.length+7:t.length>4?a+=t.length:a+=1})),a};var u,m,g=(t,e)=>{c=t,(t=>{l={answers:d.answers,pangrams:d.pangrams,letters:d.validLetters,foundTerms:t},p()})(e),c.on(i("newWord"),(t=>{var e;e=t.detail,l.foundTerms.push(e),p()}))},v=t=>l[t],f=h,y=b,w=()=>({display:d.displayDate,print:d.printDate}),k=()=>d.centerLetter,x=t=>{switch(t){case"points":return{found:b("foundTerms"),total:b("answers")};case"terms":return{found:h("foundTerms"),total:h("answers")};case"pangrams":return{found:h("foundPangrams"),total:h("pangrams")};default:return console.warn(`[data] getFoundAndTotal: Unsupported type "${t}"`),{found:0,total:0}}};function z(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _=function(){if(m)return u;m=1;const t={$:(t,e=null)=>"string"==typeof t?(e||document).querySelector(t):t||null,$$:(t,e=null)=>[].slice.call((e||document).querySelectorAll(t)),waitFor:function(e,a=null){return new Promise((o=>{const s=()=>{const r=t.$(e,a);r?o(r):requestAnimationFrame(s)};s()}))},toNode:t=>{if(t.forEach&&"function"==typeof t.forEach||(t=[t]),1===(t=t.map((t=>(t=>{if(void 0===t)return document.createDocumentFragment();if(t instanceof Node)return t;if("number"==typeof t&&(t=t.toString()),"string"==typeof t||t instanceof String){if(!/<(.*)>/.test(t))return document.createTextNode(t);let e;const a=t.includes("<svg")?"image/svg+xml":"text/html",o=(new DOMParser).parseFromString(t,a);return o.body?(e=document.createDocumentFragment(),Array.from(o.body.childNodes).forEach((t=>{e.append(t)})),e):o.documentElement}console.error("Expected Element|DocumentFragment|String|HTMLCode|SVGCode, got",t)})(t)))).length)return t[0];{const e=document.createDocumentFragment();return t.forEach((t=>{e.append(t)})),e}},empty:t=>{for(;t.lastChild;)t.lastChild.remove();return t.textContent="",t}},e=function({tag:e,content:a,attributes:o={},style:s={},data:r={},aria:n={},events:i={},classNames:l=[],isSvg:d=!1}={}){const c=d?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e),p={htmlFor:"for",className:"class"};if(o.style){const t={};o.style.split(";").forEach((e=>{const a=e.split(":").map((t=>t.trim()));t[a[0]]=a[1]})),s={...t,...s},delete o.style}Object.assign(c.style,s);for(let[t,e]of Object.entries(o))d?c.setAttributeNS(null,t,e.toString()):!1!==e&&c.setAttribute((h=t,Object.keys(p).includes(h)?p[h]:h),e.toString());var h;for(let[t,e]of Object.entries(n))t="role"===t?t:"aria-"+t,c.setAttribute(t.toLowerCase(),e);for(let[t,e]of Object.entries(r))e=e.toString(),c.dataset[t]=e;for(const[t,e]of Object.entries(i))c.addEventListener(t,e,!1);return l.length&&c.classList.add(...Array.from(l)),void 0!==a&&c.append(t.toNode(a)),c};return t.create=e,u=new Proxy(t,{get:(t,a)=>function(){const o=Array.from(arguments);return Object.prototype.hasOwnProperty.call(t,a)&&t[a]instanceof Function?(t[a].bind(t),t[a].apply(null,o)):e({tag:a,...o.shift()})}}),u}(),S=z(_);const C=t=>0===Object.keys(t).length&&t.constructor===Object;let N;const P={},E={},A=t=>new Promise((e=>{if(!E[t])return e();const a={bubbles:!0,cancelable:!0},o=i("no-feedback","d");E[t].classList.add(o),E[t].dispatchEvent(new Event("touchstart",a)),setTimeout((()=>{E[t].dispatchEvent(new Event("touchend",a)),E[t].classList.remove(o),e()}),50)})),$=()=>A("delete");var T=t=>{N=t,["submit","delete","shuffle"].forEach((t=>{E[t]=S.$(`.hive-action__${t}`,N)}))},M=()=>(C(P)&&S.$$(".sb-hive .hive-cell",N).forEach((t=>{P[t.textContent.trim()]=t})),P),j=$;class D{hasUi(){return this.ui instanceof HTMLElement}on(t,e){return this.hasUi()&&this.ui.addEventListener(t,e),this}trigger(t,e){return this.hasUi()&&this.ui.dispatchEvent(e?new CustomEvent(t,{detail:e}):new Event(t)),this}constructor(t,{key:e}={}){if(!t)throw new TypeError(`Missing 'title' from ${this.constructor.name}`);this.title=t,this.key=e||n(t),this.ui=null}}class L extends D{attach(){return this.hasUi()?(this.ui.dataset.ui=this.key,(this.target||this.app.ui)[this.addMethod](this.ui),this):this}add(){return this.attach()}run(t){return this}constructor(t,e,a,{key:o,runEvt:s,addMethod:r}={}){super(e,{key:o}),this.target,this.description=a||"",this.app=t,this.addMethod=r||"append",this.shortcuts=[],s&&this.app.on(s,(t=>{this.run(t)}))}}const O=t=>{for(let e of[".pz-moment__frame.on-stage .pz-moment__close",".pz-moment__frame.on-stage .pz-moment__close_text",".sb-modal-close"]){const a=S.$(e,t.gameWrapper);if(a)return a}return!1};class B{enableKeyClose(){return document.addEventListener("keyup",(t=>{const e=O(this.app);e&&"Escape"===t.code&&e.click()})),this}enableCanvasClose(){return this.app.modalWrapper.addEventListener("pointerup",(t=>{const e=S.$(".sb-modal-frame",this.app.modalWrapper);e&&!e.contains(t.target)&&O(this.app).click()})),this}getTarget(){const t=i("popup-container","d");let e=S.$(`[data-ui="${t}"]`);return e||(e=S.template({data:{ui:t}}),S.$("body").append(e)),e}create(){return S.div({classNames:["sb-modal-frame",i("pop-up","d")],aria:{role:"button"},data:{ui:this.key},events:{click:t=>{t.stopPropagation()}},content:[S.div({classNames:["sb-modal-top"],content:S.div({aria:{role:"button"},classNames:["sb-modal-close"],content:"×",events:{click:()=>{this.toggle(!1)}}})}),S.div({classNames:["sb-modal-content"],content:[S.div({classNames:["sb-modal-header"],content:[this.parts.title,this.parts.subtitle]}),this.parts.body,this.parts.footer]})]})}setContent(t,e){return this.parts[t]?(this.parts[t]=S.empty(this.parts[t]),this.parts[t].append(S.toNode(e)),this):(console.error(`Unknown target ${t}`),this)}toggle(t){const e=O(this.app);return!this.isOpen&&e&&e.click(),!t&&e&&e.click(),t?(this.app.modalWrapper.append(this.ui),this.modalSystem.classList.add("sb-modal-open"),this.isOpen=!0):(this.getTarget().append(this.ui),this.modalSystem.classList.remove("sb-modal-open"),this.isOpen=!1),this}constructor(t,e){this.key=e,this.app=t,this.isOpen=!1,this.modalSystem=this.app.modalWrapper.closest(".sb-modal-system"),this.parts={title:S.h3({classNames:["sb-modal-title"]}),subtitle:S.p({classNames:["sb-modal-message"]}),body:S.div({classNames:["sb-modal-body"]}),footer:S.div({classNames:["sb-modal-message","sba-modal-footer"],content:[S.a({content:o("label"),attributes:{href:o("url"),target:i()}})]})},this.ui=this.create(),this.enableKeyClose().enableCanvasClose(),this.getTarget().append(this.ui)}}class H extends L{togglePopup(){return this.popup.isOpen?(this.popup.toggle(!1),this):(this.popup.toggle(!0),this.found3rdPartyDm||S.$("input:checked",this.popup.ui).focus(),this)}applyColorScheme(t){return t.hsl&&!C(t.hsl)||(t.hsl=this.getStoredColorScheme().hsl),this.found3rdPartyDm&&(t.mode="light"),document.body.dataset[i("theme")]=t.mode,document.body.style.setProperty("--dhue",t.hsl.hue),document.body.style.setProperty("--dsat",t.hsl.sat+"%"),document.body.style.setProperty("--dlig",t.hsl.lig+"%"),s(`options.${this.key}.hsl`,t.hsl),s(`options.${this.key}.mode`,t.mode),this}toggleColorScheme(){if(this.found3rdPartyDm)return this;const t=this.getStoredColorScheme();return t.mode="dark"===t.mode?"light":"dark",this.applyColorScheme(t)}constructor(t){var e;if(super(t,"Dark Mode","Choose your vibe: shades for morning people and night owls."),Object.assign(this,(e=this,{usesNonSbaDarkMode(){const t=getComputedStyle(document.body).backgroundColor.match(/\d+/g);if(!t||4===t.length&&0===parseInt(t[3]))return!1;const[e,a,o]=t.map(Number),[s,r,n]=[e,a,o].map((t=>(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)));return.2126*s+.7152*r+.0722*n<.5},usesSbaDarkMode:()=>"dark"===e.getStoredColorScheme().mode,usesSystemDarkMode:()=>!!window.matchMedia("(prefers-color-scheme: dark)").matches,colorObjectsAreEqual:(t,e)=>t.mode===e.mode&&t.hsl.hue===e.hsl.hue&&t.hsl.sat===e.hsl.sat&&t.hsl.lig===e.hsl.lig,getStoredColorScheme(){let t=o(`options.${e.key}`);return e.isInvalidScheme(t)?{mode:"light",hsl:{hue:0,sat:0,lig:7}}:{mode:t.mode,hsl:t.hsl}},cssHslFromColorScheme:t=>`hsl(${t.hsl.hue}, ${t.hsl.sat}%, ${t.hsl.lig}%)`,isInvalidScheme:(t=null)=>!t||C(t)||!t.hsl||C(t.hsl)||!t.mode}),(t=>({getSwatch(e,a=""){let o,s=t.colorObjectsAreEqual(e,t.getStoredColorScheme()),r=structuredClone(e);return"light"===e.mode?(r.hsl={hue:360,sat:100,lig:100},o=t.cssHslFromColorScheme(r)):o=t.cssHslFromColorScheme({...e,hsl:{...e.hsl,lig:22}}),S.li({content:[S.input({attributes:{name:"color-picker",type:"radio",value:r.hsl.hue,checked:s,id:i("h"+r.hsl.hue)},events:{change:()=>{t.applyColorScheme(e)}}}),S.label({attributes:{htmlFor:i("h"+r.hsl.hue)},style:{background:o},content:a})]})},getSwatches(){const e=S.ul({classNames:[i("swatches","d")]});for(let a=0;a<360;a+=30){const o=0===a?0:25;e.append(t.getSwatch({mode:"dark",hsl:{hue:a,sat:o,lig:7}}))}const a=t.getStoredColorScheme(!0);return a.mode="light",e.append(t.getSwatch(a,"Return to Light Mode")),e},getHive(){const t=({x:t,y:e})=>`translate(${t} ${e})`,e=["c","nw","n","ne","se","s","sw"],a={c:{x:19.2,y:22.01},nw:{x:0,y:11.01},n:{x:19.2,y:.01},ne:{x:38.4,y:11.01},se:{x:38.4,y:33.01},s:{x:19.2,y:44.01},sw:{x:0,y:33.01}},o=S.symbol({isSvg:!0,attributes:{id:i("cell-tpl","d")},content:S.polygon({isSvg:!0,attributes:{points:"18,0 24,10.39 18,20.78 6,20.78 0,10.39 6,0"}})}),s=[S.defs({isSvg:!0,content:o})];let r=0;for(const[o,n]of Object.entries(M())){const n=e[r];s.push(S.g({isSvg:!0,attributes:{transform:t(a[n])},classNames:[0===r?"center-cell":"cell"].map((t=>i(t,"d"))),content:[S.use({isSvg:!0,attributes:{href:`#${i("cell-tpl","d")}`}}),S.text({isSvg:!0,attributes:{x:12,y:11},content:o})]})),r++}return S.div({classNames:[i("dark-mode-preview","d")],content:S.svg({isSvg:!0,attributes:{viewBox:"0 0 62.4 64.8"},content:s})})}}))(this)),this.found3rdPartyDm=!1,this.usesNonSbaDarkMode())return this.applyColorScheme({mode:"light"}),void(this.found3rdPartyDm=!0);this.usesSbaDarkMode()||this.usesSystemDarkMode()?this.applyColorScheme({mode:"dark"}):this.applyColorScheme({mode:"light"}),this.menu={action:"popup"},this.shortcuts=[{combo:"Shift+Alt+D",method:"toggleColorScheme",label:"Dark Mode"},{combo:"Shift+Alt+K",method:"togglePopup",label:"Dark Mode Colors"}],this.popup=new B(this.app,this.key),this.found3rdPartyDm?this.popup.setContent("title","Dark Mode disabled").setContent("subtitle",S.toNode([S.p({content:"Spelling Bee Assistant’s dark mode has been turned off because \n                    another dark theme (likely from the NYT) was detected."}),S.p({content:"If you prefer SBA’s dark mode, consider disabling the other one."})])):this.popup.setContent("title",this.title).setContent("subtitle",this.description).setContent("body",S.div({classNames:[i("color-selector","d")],content:[this.getSwatches(),this.getHive()]}))}}class I extends L{constructor(t){super(t,o("title"),"",{key:"header"});const e=S.div({classNames:["sba-toolbar"]});t.on(i("pluginsReady"),(t=>{t.detail.forEach(((t,a)=>{t.panelBtn&&e.append(t.panelBtn)}))})),this.ui=S.div({content:[S.div({classNames:["sba-title"],content:this.title}),e]})}}class U{constructor(t,e){this.maxAsNumber=e,this.valueInPercent=this.toPercent(t),this.element=null}render(){return this.element=S.progress({attributes:{max:100,value:this.valueInPercent,title:`Progress: ${this.valueInPercent}%`}}),this.element}get ui(){return this.element||this.render()}update(t){return this.element||this.render(),this.valueInPercent=this.toPercent(t),this.element.value=this.valueInPercent,this.element.title=`Progress: ${this.valueInPercent}%`,this}toPercent(t){return Math.min(Math.round(100*t/this.maxAsNumber),100)}}class q extends L{run(t){return this.progress.update(y("foundTerms")),this}constructor(t){super(t,"Progress Bar","Displays your progress as a yellow bar",{runEvt:i("refreshUi"),addMethod:"before"}),this.progress=new U(y("foundTerms"),y("answers")),this.ui=this.progress.ui,this.target=S.$(".sb-wordlist-heading",this.app.gameWrapper)}}const F=()=>{const t={};return["caption","thead","tbody","tfoot"].forEach((e=>{t[e]={tag:e,content:[]}})),t},G=(t,e,a=[])=>({tag:"table",content:Object.values(t).filter((t=>Array.isArray(t.content)&&t.content.length>0)),classNames:a,data:{cols:e}});var W=(t,{hasHeadRow:e=!0,hasHeadCol:a=!0,rowCallbacks:o=[],cellCallbacks:s=[],caption:r="",classNames:n=[]}={})=>{const i=F();r&&i.caption.content.push(r);let l=0;return t.forEach(((r,n)=>{0===n&&(l=r.length);const d={tag:"tr",content:[],classNames:[],attributes:{}},c=e&&0===n?"thead":"tbody";r.forEach(((o,i)=>{let l="td";(e&&0===n||a&&0===i)&&(l="th");const c={tag:l,content:o,classNames:[]};s.forEach((e=>{e({cellData:o,rowIdx:n,cellIdx:i,rowData:r,rowObj:d,cellObj:c,tableData:t})})),d.content.push(c)})),i[c].content.push(d),o.forEach((t=>t(r,n,d,i)))})),G(i,l,n)},R=(t,e,a,o="tbody")=>{const s=t[o]?.content;if(!s)return;const r=s.indexOf(e);-1===r?s.push(a):s.splice(r+1,0,a)},Y=t=>{const e=v("answers").sort(),a=v("remainders"),o={},s={found:0,missing:0,total:0};for(const r of e){const e=r.slice(0,t);o[e]||(o[e]={...s}),a.includes(r)?o[e].missing++:o[e].found++,o[e].total++}const r=[["","✓","?","∑"]];for(const[t,{found:e,missing:a,total:s}]of Object.entries(o))r.push([t,e,a,s]);return r},K=()=>{const t={},e=[],a=v("answers"),o=new Set(v("foundTerms"));for(const e of a){const a=e.length;t[a]||(t[a]={found:0,missing:0,total:0}),o.has(e)?t[a].found++:t[a].missing++,t[a].total++}return Object.keys(t).sort(((t,e)=>t-e)).forEach((a=>{const{found:o,missing:s,total:r}=t[a];e.push([a,o,s,r])})),[["","✓","?","∑"],...e]};const J=t=>{const e={tag:"div",content:[],attributes:{},style:{},data:{},aria:{},events:{},classNames:[],isSvg:!1,...t,content:Z(t.content).map((t=>"string"==typeof t||!isNaN(t)||t instanceof Node?t:J(t)))};return _.create(e)},Z=t=>null==t?[]:Array.isArray(t)?t:[t];class V{constructor(t,{caption:e="",hasHeadRow:a=!0,hasHeadCol:o=!0,rowCallbacks:s=[],cellCallbacks:r=[],classNames:n=[]}={}){this.data=t,this.caption=e,this.hasHeadRow=a,this.hasHeadCol=o,this.rowCallbacks=s,this.cellCallbacks=r,this.classNames=n,this.element=null}render(){const t=W(this.data,{caption:this.caption,hasHeadRow:this.hasHeadRow,hasHeadCol:this.hasHeadCol,rowCallbacks:this.rowCallbacks,cellCallbacks:this.cellCallbacks,classNames:this.classNames});return this.element=J(t),this.element}get ui(){return this.element||this.render()}}function Q(t,e=[],a=[]){return new V(t,{hasHeadRow:!0,hasHeadCol:!0,classNames:["data-pane","th-upper","table-full-width","equal-cols","small-txt"].map((t=>i(t,"d"))).concat(["pane"]),rowCallbacks:e,cellCallbacks:a}).ui}class X{update(t){return this.element||this.render(),this.content.replaceWith(t),this.content=t,this}render(){return this.element=S.details({content:[S.summary({content:this.title}),this.content],attributes:{open:this.open}}),this.element}togglePane(){return this.element.open=!this.element.open,this}get ui(){return this.element||this.render()}constructor(t,e=!1){this.title=t,this.open=e,this.content=S.div(),this.element=null}}class tt extends L{togglePane(){return this.detailsBuilder.togglePane()}run(t){return this.detailsBuilder.update(this.createTable()),this}getData(){const t=["foundTerms","remainders","answers"];return[["","✓","?","∑"],["W"].concat(t.map((t=>f(t)))),["P"].concat(t.map((t=>y(t))))]}createTable(){return Q(this.getData())}constructor(t){super(t,"Overview","The number of words and points and how many have been found",{runEvt:i("refreshUi")}),this.detailsBuilder=new X(this.title,!0),this.ui=this.detailsBuilder.ui,this.shortcuts=[{combo:"Shift+Alt+O",method:"togglePane"}]}}class et extends L{run(t){let e=t.detail?.textContent?.trim()||"",a="🙂";return e?v("remainders").filter((t=>t.startsWith(e))).length||(a="🙁"):a="😐",this.ui.textContent=a,this}getState(){return!this.ui.classList.contains("inactive")}toggle(){return this.ui.classList.toggle("inactive",this.getState()),this}constructor(t){super(t,"Spill the beans","An emoji that shows if the last letter was right or wrong",{runEvt:i("newInput"),addMethod:"prepend"}),this.menu={action:"boolean"},this.ui=S.div({content:"😐",classNames:["inactive"]}),this.target=S.$(".sb-controls",this.app.gameWrapper),this.shortcuts=[{combo:"Shift+Alt+E",method:"toggle"}]}}class at extends L{togglePane(){return this.detailsBuilder.togglePane()}run(t){return this.detailsBuilder.update(this.createTable()),this}constructor(t){super(t,"Letter count","The number of words by length",{runEvt:i("refreshUi")}),this.detailsBuilder=new X(this.title,!1),this.ui=this.detailsBuilder.ui,this.shortcuts=[{combo:"Shift+Alt+L",method:"togglePane"}]}getData(){return K()}createTable(){return Q(this.getData(),[(t,e,a)=>{0===t[2]&&a.classNames.push(i("completed","d"))}])}}class ot extends L{togglePane(){return this.detailsBuilder.togglePane()}run(t){return this.detailsBuilder.update(this.createTable()),this}constructor(t,e,a,{letterCnt:o,shortcuts:s}={}){super(t,e,a,{runEvt:i("refreshUi")}),this.detailsBuilder=new X(this.title,!1),this.ui=this.detailsBuilder.ui,this.shortcuts=s,this.letterCnt=o}getData(){return Y(this.letterCnt)}createTable(){return Q(this.getData(),[(t,e,a)=>{0===t[2]&&a.classNames.push(i("completed","d")),t[0]===k()&&a.classNames.push(i("preeminent","d"))}])}}class st extends ot{constructor(t){super(t,"First letter","The number of words by first letter",{shortcuts:[{combo:"Shift+Alt+F",method:"togglePane"}],letterCnt:1})}}class rt extends ot{constructor(t){super(t,"First two letters","The number of words by the first two letters",{shortcuts:[{combo:"Shift+Alt+2",method:"togglePane"}],letterCnt:2})}}class nt extends L{togglePane(){return this.detailsBuilder.togglePane()}run(t){return this.detailsBuilder.update(this.createTable()),this}getData(){const t=f("pangrams"),e=f("foundPangrams");return[["✓","?","∑"],[e,t-e,t]]}createTable(){return new V(this.getData(),{hasHeadRow:!0,hasHeadCol:!1,classNames:["data-pane","th-upper","table-full-width","equal-cols","small-txt"].map((t=>i(t,"d"))).concat(["pane"]),rowCallbacks:[(t,e,a)=>{0===t[1]&&a.classNames.push(i("completed","d"))}]}).ui}constructor(t){super(t,"Pangrams","The number of pangrams",{runEvt:i("refreshUi")}),this.detailsBuilder=new X(this.title,!1),this.ui=this.detailsBuilder.ui,this.shortcuts=[{combo:"Shift+Alt+P",method:"togglePane"}]}}const it=[["Beginner",0],["Good Start",2],["Moving Up",5],["Good",8],["Solid",15],["Nice",25],["Great",40],["Amazing",50],["Genius",70],["Queen Bee",100]],lt=(t=!0)=>{const e=x("points"),a=[["","To reach"]];return(t?it.toReversed():it).forEach((t=>{a.push([t[0],Math.round(t[1]/100*e.total)])})),a},dt=t=>{const e=lt(!1).filter((e=>!isNaN(e[1])&&e[1]<=t.found)).pop();return{name:e[0],value:e[1],additionalPoints:t.found-e[1]}},ct=t=>{const e=lt(!1).filter((e=>!isNaN(e[1])&&e[1]>t.found)).shift();return e&&e.length?{name:e[0],value:e[1],missingPoints:e[1]-t.found}:{name:null,value:null,missingPoints:0}},pt=(t,e,a,o)=>{const s={tag:"tr",content:[{tag:"td",classNames:[i("progress-box","d")],attributes:{colspan:a.content.length},content:new U(t,e).ui}]};R(o,a,s)};class ht extends L{createSummaryTable(t){return new V((t=>{const e=x(t);return[["✓","?","∑"],[e.found,e.total-e.found,e.total]]})(t),{hasHeadRow:!0,hasHeadCol:!1,classNames:["data-pane","thead-th-bold"].map((t=>i(t,"d"))).concat(["pane"]),caption:this.summaryFields[t],rowCallbacks:[(t,e,a,o)=>{1===e&&pt(t[0],t[2],a,o)}]}).ui}createMilestoneTable(){return new V(lt(!0),{hasHeadRow:!0,hasHeadCol:!0,classNames:["data-pane","thead-th-bold"].map((t=>i(t,"d"))).concat(["pane"]),caption:"Tiers",rowCallbacks:[(t,e,a,o)=>{const s=x("points"),r=dt(s),n=ct(s);e>0&&a.classNames.push(i(t[0],"d")),t[1]<s.found&&t[1]!==r.value&&a.classNames.push(i("completed","d")),t[1]===r.value&&(a.classNames.push(i("preeminent","d")),1!==e&&pt(r.additionalPoints,n.value-r.value,a,o))}]}).ui}togglePopup(){if(this.popup.isOpen)return this.popup.toggle(!1),this;const t=[];Object.keys(this.summaryFields).forEach((e=>{t.push(this.createSummaryTable(e))}));const e=S.div({classNames:[i("milestone-table-wrapper","d")],content:[S.figure({content:t,classNames:["col","summaries"].map((t=>i(t,"d")))}),S.figure({content:this.createMilestoneTable(),classNames:["col","tiers"].map((t=>i(t,"d")))})]});return this.popup.setContent("subtitle",(()=>{const t=x("points"),e=dt(t),a=ct(t);return a.name&&t.found<t.total?['You’re at "',S.b({content:e.name}),'" and just ',S.b({content:a.missingPoints}),` ${1!==a.missingPoints?"points":"point"} away from "`,S.b({content:a.name}),'".']:"You’ve completed today’s puzzle. Here’s a recap."})()).setContent("body",e).toggle(!0),this}constructor(t){super(t,"Milestones","The number of points required for each level",{runEvt:i("refreshUi")}),this.popup=new B(this.app,this.key).setContent("title",this.title),this.summaryFields={points:"Points",terms:"Words",pangrams:"Pangrams"},this.menu={action:"popup"},this.shortcuts=[{combo:"Shift+Alt+M",method:"togglePopup"}]}}class bt extends L{hasGeniusNo4Letters(){const t=y("answers");return t-v("answers").filter((t=>4===t.length)).length>=Math.round(.7*t)}getPerfectPangramCount(){return v("pangrams").filter((t=>7===t.length)).length}hasBingo(){return 7===Array.from(new Set(v("answers").map((t=>t.charAt(0))))).length}nytCommunity(){const t=`https://www.nytimes.com/${w().print.replace(/-/g,"/")}/crosswords/spelling-bee-forum.html#commentsContainer`;return S.a({content:"NYT Spelling Bee Forum for today’s game",attributes:{href:t,target:i()}})}redditCommunity(){return S.a({content:"NYT Spelling Bee Puzzle on Reddit",attributes:{href:"https://www.reddit.com/r/NYTSpellingBee/",target:i()}})}tomtitBaobab(){return S.a({content:"Tomtit & Baobab: A Bee-Inspired Podcast",attributes:{href:"https://pod.link/1614136488",target:i()}})}bluesky(){const t=["hivemind","nytspellingbee","nytbee","nytsb"].map((t=>S.a({content:`#${t}`,attributes:{href:`https://bsky.app/hashtag/${t}`,target:i()}})));return S.toNode(["Bluesky hashtags: ",...t.flatMap(((t,e,a)=>e<a.length-1?[t,", "]:[t]))])}nytSpotlight(){return S.a({content:"NYT Spelling Bee Forums",attributes:{href:"https://www.nytimes.com/spotlight/spelling-bee-forum",target:i()}})}togglePopup(){return this.popup.isOpen?(this.popup.toggle(!1),this):(this.popup.toggle(!0),this)}constructor(t){super(t,"Community","A collection of resources and trivia suggested by the community."),this.shortcuts=[{combo:"Shift+Alt+C",method:"togglePopup"}],this.menu={action:"popup"};const e=S.ul({content:[S.li({content:[S.h4({content:"Is there a perfect pangram today?"}),S.p({content:(()=>{const t=this.getPerfectPangramCount();switch(t){case 0:return"No, not today.";case 1:return"Yes - there's one perfect pangram today.";default:return`Yes - there are ${t} perfect pangrams today.`}})()}),S.em({content:"A “perfect” pangram uses all seven letters exactly once."})]}),S.li({content:[S.h4({content:"Is today a Bingo day?"}),S.p({content:this.hasBingo()?"Yes - today is a Bingo day!":"No - not today."}),S.em({content:'"Bingo" means each puzzle letter starts at least one word in the list.'})]}),S.li({content:[S.h4({content:"Can you reach Genius without using any 4-letter words?"}),S.p({content:this.hasGeniusNo4Letters()?"Yes - today you can!":"No - not today."})]}),S.li({content:[S.h4({content:"Social Media"}),S.ul({content:[S.li({content:this.nytCommunity()}),S.li({content:this.nytSpotlight()}),S.li({content:this.redditCommunity()}),S.li({content:this.tomtitBaobab()}),S.li({content:this.bluesky()})]})]})]});this.popup=new B(this.app,this.key).setContent("title",this.title).setContent("subtitle",this.description).setContent("body",e)}}class ut extends L{buildContent(){const t=v("foundTerms"),e=v("pangrams"),a=S.ul({classNames:["sb-modal-wordlist-items"]});return v("answers").forEach((o=>{a.append(S.li({content:[S.span({classNames:t.includes(o)?["check","checked"]:["check"]}),S.span({classNames:e.includes(o)?["sb-anagram","pangram"]:["sb-anagram"],content:o})]}))})),[S.div({content:v("letters").join(""),classNames:["sb-modal-letters"]}),a]}togglePopup(){return this.popup.isOpen?(this.popup.toggle(!1),this):(this.popup.setContent("body",this.buildContent()).toggle(!0),this)}constructor(t){super(t,"Today’s Answers","Reveals the solution of the game",{key:"todaysAnswers"}),this.marker=i("resolved","d"),this.popup=new B(this.app,this.key).setContent("title",this.title).setContent("subtitle",w().display),this.menu={action:"popup",icon:"warning"},this.shortcuts=[{combo:"Shift+Alt+T",method:"togglePopup"}]}}class mt extends L{toggle(t){return super.toggle(t),this.run()}run(t){const e=v("pangrams"),a=t?.detail??this.app.resultList;return S.$$("li",a).forEach((t=>{const a=t.textContent;(e.includes(a)||S.$(".pangram",t))&&t.classList.add(this.marker)})),this}constructor(t){super(t,"Highlight PangramHl","",{runEvt:i("refreshUi")}),this.marker=i("pangram","d"),this.app.on(i("yesterday"),(t=>{this.run(t)})),this.run()}}class gt extends L{listener(t){return!(!t.target.classList.contains("sb-anagram")||!t.target.closest(".sb-anagram"))&&(0===t.button?(window.open(`https://www.google.com/search?q=${t.target.textContent}`,i()),!0):void 0)}run(t=null){return[this.app.modalWrapper,this.app.resultList.parentElement].forEach((t=>{t.addEventListener("pointerup",this.listener),t.classList.add(i("googlified","d"))})),this}constructor(t){super(t,"Googlify","Link all result terms to Google"),this.run()}}class vt extends L{constructor(t){super(t,"Styles",""),this.target=S.$("head"),this.ui=S.style({content:'[data-sba-theme]{--dhue: 0;--dsat: 0%;--dlig: 7%;--link-hue: 206;--shadow-light-color: hsl(49, 96%, 50%, 0.35);--shadow-dark-color: hsl(49, 96%, 50%, 0.7);--highlight-text-color: hsl(0, 0%, 0%)}[data-sba-theme=light]{--text-color:#000;--site-text-color:rgba(0,0,0,.9);--body-bg-color:#fff;--modal-bg-color:hsla(0,0%,100%,.85);--border-color:hsl(0,0%,86%);--area-bg-color:hsl(0,0%,90%);--invalid-color:hsl(0,0%,63%);--menu-hover-color:hsl(0,0%,96%);--head-row-bg-color:hsl(0,0%,96%);--card-color:hsla(52,93%,55%,.1);--link-color:hsl(var(--link-hue), 45%, 38%);--link-visited-color:hsl(var(--link-hue), 45%, 53%);--link-hover-color:hsl(var(--link-hue), 45%, 53%);--sba-success-color:hsl(112,93%,35%);--sba-error-color:hsl(352,93%,35%);--toggle-on-bg-color:hsl(90,62%,40%);--toggle-off-bg-color:hsl(0,0%,65%);--toggle-handle-color:#fff;--toggle-border-color:hsl(0,0%,90%)}[data-sba-theme=dark]{--text-color:hsl(var(--dhue), var(--dsat), 85%);--site-text-color:hsl(var(--dhue), var(--dsat), 100%, 0.9);--body-bg-color:hsl(var(--dhue), var(--dsat), var(--dlig));--modal-bg-color:hsl(var(--dhue), var(--dsat), var(--dlig), 0.85);--border-color:hsl(var(--dhue), var(--dsat), 20%);--area-bg-color:hsl(var(--dhue), var(--dsat), 22%);--invalid-color:hsl(var(--dhue), var(--dsat), 40%);--menu-hover-color:hsl(var(--dhue), var(--dsat), 22%);--head-row-bg-color:hsl(var(--dhue), var(--dsat), 13%);--card-color:hsl(var(--dhue), var(--dsat), 22%);--link-color:hsl(var(--link-hue), 90%, 64%);--link-visited-color:hsl(var(--link-hue), 90%, 76%);--link-hover-color:hsl(var(--link-hue), 90%, 76%);--sba-success-color:hsl(112,93%,55%);--sba-error-color:hsl(352,93%,41%);--toggle-on-bg-color:hsl(90,62%,50%);--toggle-off-bg-color:#ccc;--toggle-handle-color:hsl(var(--dhue), var(--dsat), 22%);--toggle-border-color:hsl(var(--dhue), var(--dsat), 22%)}body{background:var(--body-bg-color);color:var(--text-color)}body .pz-game-field{background:var(--body-bg-color);color:var(--text-color)}body .pz-game-wrapper .sb-modal-message a{color:var(--link-color)}body .pz-game-wrapper .sb-modal-message a:visited{color:var(--link-visited-color)}body .pz-game-wrapper .sb-modal-message a:hover{color:var(--link-hover-color)}body .pz-game-wrapper .sb-progress-marker .sb-progress-value,body .pz-game-wrapper .hive-cell:first-child .cell-fill{background:var(--sb-yellow);fill:var(--sb-yellow);color:var(--highlight-text-color)}body .pz-game-wrapper .sba-color-selector .hive .hive-cell .cell-fill,body .pz-game-wrapper .hive-cell .cell-fill{fill:var(--area-bg-color)}body .pz-game-wrapper .sba-color-selector .hive .hive-cell .cell-letter{fill:var(--text-color)}body[data-sba-theme=dark]{scrollbar-color:var(--invalid-color) var(--body-bg-color)}body[data-sba-theme=dark] .sb-message{color:var(--text-color)}body[data-sba-theme=dark] #conversion-banner{background:inherit}body[data-sba-theme=dark] .pz-moment__frame:is(.pz-moment__congrats,.pz-moment__welcome) .pz-moment__content{color:var(--text-color)}body[data-sba-theme=dark] .pz-moment__frame:is(.pz-moment__congrats,.pz-moment__welcome) .pz-moment__button.primary{background:var(--area-bg-color);color:var(--text-color)}body[data-sba-theme=dark] .pz-moment__frame:is(.pz-moment__congrats,.pz-moment__welcome) .pz-moment__button.primary:hover{background:var(--invalid-color);color:var(--body-bg-color)}body[data-sba-theme=dark] .pz-moment__frame:is(.pz-moment__congrats,.pz-moment__welcome) .pz-moment__button.secondary{background:var(--head-row-bg-color);color:var(--text-color)}body[data-sba-theme=dark] .pz-moment__frame:is(.pz-moment__congrats,.pz-moment__welcome) .pz-moment__button.secondary:hover{background:var(--area-bg-color)}body[data-sba-theme=dark] .pz-game-wrapper,body[data-sba-theme=dark] #js-hook-pz-moment__loading{background:var(--body-bg-color) !important;color:var(--text-color)}body[data-sba-theme=dark] .sb-message{background:var(--area-bg-color)}body[data-sba-theme=dark] .pangram-message .sb-message{background:var(--sb-yellow);color:var(--highlight-text-color)}body[data-sba-theme=dark] .pz-modal__button.white,body[data-sba-theme=dark] .pz-footer,body[data-sba-theme=dark] .pz-moment,body[data-sba-theme=dark] .sb-modal-scrim{background:var(--modal-bg-color) !important;color:var(--text-color) !important}body[data-sba-theme=dark] .pz-modal__button.white .pz-moment__button.primary,body[data-sba-theme=dark] .pz-footer .pz-moment__button.primary,body[data-sba-theme=dark] .pz-moment .pz-moment__button.primary,body[data-sba-theme=dark] .sb-modal-scrim .pz-moment__button.primary{background:var(--area-bg-color);color:var(--text-color)}body[data-sba-theme=dark] .pz-modal__button.white .pz-moment__button.primary:hover,body[data-sba-theme=dark] .pz-footer .pz-moment__button.primary:hover,body[data-sba-theme=dark] .pz-moment .pz-moment__button.primary:hover,body[data-sba-theme=dark] .sb-modal-scrim .pz-moment__button.primary:hover{background:var(--invalid-color);color:var(--body-bg-color)}body[data-sba-theme=dark] .pz-modal__button.white .pz-moment__button.secondary,body[data-sba-theme=dark] .pz-footer .pz-moment__button.secondary,body[data-sba-theme=dark] .pz-moment .pz-moment__button.secondary,body[data-sba-theme=dark] .sb-modal-scrim .pz-moment__button.secondary{background:var(--head-row-bg-color);color:var(--text-color)}body[data-sba-theme=dark] .pz-modal__button.white .pz-moment__button.secondary:hover,body[data-sba-theme=dark] .pz-footer .pz-moment__button.secondary:hover,body[data-sba-theme=dark] .pz-moment .pz-moment__button.secondary:hover,body[data-sba-theme=dark] .sb-modal-scrim .pz-moment__button.secondary:hover{background:var(--area-bg-color)}body[data-sba-theme=dark] .hive-action__shuffle{position:relative}body[data-sba-theme=dark] .sb-progress-value{font-weight:bold}body[data-sba-theme=dark] .pz-icon-close{filter:invert(1)}body[data-sba-theme=dark].pz-mobile .pz-toolbar-button,body[data-sba-theme=dark].pz-mobile .pz-dropdown__button,body[data-sba-theme=dark].pz-desktop .pz-toolbar-button,body[data-sba-theme=dark].pz-desktop .pz-dropdown__button{background-color:rgba(0,0,0,0) !important}body[data-sba-theme=dark] .pz-dropdown .pz-dropdown__show+.pz-dropdown__list .pz-dropdown__menu-item{background-color:var(--body-bg-color)}body[data-sba-theme=dark] .pz-moment__frame.pz-moment__welcome *{color:var(--text-color)}body[data-sba-theme=dark] .sb-toggle-icon,body[data-sba-theme=dark] .sb-kebob .sb-bob-arrow,body[data-sba-theme=dark] .hive-action__shuffle{background-position:-1000px}body[data-sba-theme=dark] .sb-toggle-icon:after,body[data-sba-theme=dark] .sb-kebob .sb-bob-arrow:after,body[data-sba-theme=dark] .hive-action__shuffle:after{content:"";opacity:.85;top:0;left:0;bottom:0;right:0;position:absolute;z-index:0;filter:invert(1);background-image:inherit;background-repeat:inherit;background-position:center;background-size:inherit}#js-logo-nav rect{fill:var(--body-bg-color)}#js-logo-nav path{fill:var(--text-color)}.pz-moment__loading{color:#000}.pz-nav__hamburger-inner,.pz-nav__hamburger-inner::before,.pz-nav__hamburger-inner::after{background-color:var(--text-color)}.pz-nav{width:100%;background:var(--body-bg-color)}.sb-modal-wrapper .sb-modal-frame{border:1px solid var(--border-color);background:var(--body-bg-color);color:var(--text-color)}.sb-modal-wrapper .sb-modal-frame.stats .sb-modal-header{background:var(--body-bg-color)}.sb-modal-wrapper .sb-modal-frame.stats .sb-stats-bar{background:var(--body-bg-color);color:var(--text-color)}.sb-modal-wrapper .sb-modal-frame.stats .sb-stats-bar__text{color:#333}.sb-modal-wrapper .sb-modal-ranks__list tr:not(.sb-modal-ranks__current){color:var(--text-color)}.sb-modal-wrapper .pz-modal__title,.sb-modal-wrapper .sb-modal-close{color:var(--text-color)}.sb-modal-wrapper .sb-modal-body .sb-modal-buttons-container button.button-primary{background:var(--area-bg-color);color:var(--text-color)}.sb-modal-wrapper .sb-modal-body .sb-modal-buttons-container button.button-primary:hover{background:var(--invalid-color);color:var(--body-bg-color)}.sb-modal-wrapper .sb-modal-body .sb-modal-buttons-container button.button-secondary{background:var(--head-row-bg-color);color:var(--text-color)}.sb-modal-wrapper .sb-modal-body .sb-modal-buttons-container button.button-secondary:hover{background:var(--area-bg-color)}.pz-moment__close::before,.pz-moment__close::after{background:var(--text-color)}.pz-moment__close_text{color:currentColor}.pz-modal__button.white:hover{background:var(--area-bg-color)}.sb-input-invalid{color:var(--invalid-color)}.sb-toggle-expand{box-shadow:none}.sb-input-bright,.sb-progress-dot.completed::after{color:var(--sb-yellow)}.hive-cell .cell-fill{stroke:var(--body-bg-color)}.hive-cell .cell-letter{fill:var(--text-color)}.hive-cell.center .cell-letter{fill:var(--highlight-text-color)}.hive-action{background-color:var(--body-bg-color);color:var(--text-color)}.hive-action.push-active{background:var(--menu-hover-color)}[data-sba-theme] .sb-modal-wordlist-items li,.sb-wordlist-items-pag>li,.pz-ad-box,.pz-game-toolbar,.pz-spelling-bee-wordlist,.hive-action,.sb-wordlist-box,.sb-message{border-color:var(--border-color)}.sb-toggle-expand{background:var(--body-bg-color)}.sb-progress-line,.sb-progress-dot::after,.pz-nav::after{background:var(--border-color)}.sb-bob{background-color:var(--border-color)}.sb-bob.active{background-color:var(--text-color)}:root{--sba-cell-inline-padding: 2px;--sba-cell-block-padding: 3px}body:has(.pz-moment__congrats.on-stage) [data-ui=menu]{display:none}.hive-action.push-active.sba-no-feedback{background:var(--body-bg-color) !important}.sba-toggle-switch:where([type=checkbox][role=switch]){-webkit-appearance:none;-moz-appearance:none;appearance:none;position:relative;color:var(--toggle-border-color);font-size:inherit;width:2em;height:1em;box-sizing:content-box;border:1px solid;border-radius:1em;vertical-align:text-bottom;margin:auto;cursor:pointer;background:var(--toggle-off-bg-color)}.sba-toggle-switch:where([type=checkbox][role=switch])::before{content:"";position:absolute;top:50%;left:0;transform:translate(0, -50%);box-sizing:border-box;width:.7em;height:.7em;margin:0 .15em;border:1px solid;border-radius:50%;background:var(--toggle-handle-color)}.sba-toggle-switch:where([type=checkbox][role=switch]):checked{background:var(--toggle-on-bg-color)}.sba-toggle-switch:where([type=checkbox][role=switch]):checked::before{left:1em;background:var(--toggle-handle-color)}.sba-toggle-switch:where([type=checkbox][role=switch]):disabled{opacity:.4}.sba{background:var(--body-bg-color);border-radius:6px;border-style:solid;border-width:1px}.sba *:focus{outline:0}.sba ::selection{background:rgba(0,0,0,0)}.sba details{font-size:90%;margin-bottom:1px}.sba summary{font-size:13px;line-height:20px;padding:1px 6px 0 6px;background:var(--area-bg-color);color:var(--text-color);cursor:pointer;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;border:1px solid var(--border-color)}[data-ui].inactive{display:none}[data-ui] b,[data-ui] strong{font-weight:bold}[data-ui] i,[data-ui] em{font-style:italic}[data-ui] .sb-modal-body{padding-block-end:20px}details .sba-data-pane{border-top:none;margin-bottom:2px}.sb-modal-wrapper{--sba-cell-inline-padding: 7px}.sb-modal-wrapper .sba-data-pane{font-size:95%}.sb-modal-wrapper i{font-style:italic}.sba-data-pane{border:1px solid var(--border-color);border-collapse:collapse}.sba-data-pane.sba-thead-th-bold thead th{font-weight:bold}.sba-data-pane.sba-table-full-width{width:100%;table-layout:fixed}.sba-data-pane.sba-small-txt{font-size:85%}.sba-data-pane.sba-th-upper th{text-transform:uppercase}.sba-data-pane.sba-equal-cols[data-cols="3"] :is(th,td){width:33.3333333333%}.sba-data-pane.sba-equal-cols[data-cols="4"] :is(th,td){width:25%}.sba-data-pane.sba-equal-cols[data-cols="5"] :is(th,td){width:20%}.sba-data-pane.sba-equal-cols[data-cols="6"] :is(th,td){width:16.6666666667%}.sba-data-pane.sba-equal-cols[data-cols="7"] :is(th,td){width:14.2857142857%}.sba-data-pane.sba-equal-cols[data-cols="8"] :is(th,td){width:12.5%}.sba-data-pane.sba-equal-cols[data-cols="9"] :is(th,td){width:11.1111111111%}.sba-data-pane.sba-equal-cols[data-cols="10"] :is(th,td){width:10%}.sba-data-pane .sba-preeminent{font-weight:bold;border-bottom:2px solid var(--sb-yellow) !important}.sba-data-pane .sba-completed td,.sba-data-pane td.sba-completed{color:var(--invalid-color);font-weight:normal}.sba-data-pane .sba-hidden{display:none}.sba-data-pane caption{text-align:start;padding:var(--sba-cell-block-padding) var(--sba-cell-inline-padding);line-height:1.75;font-weight:700}.sba-data-pane :is(th,td){border:1px solid var(--border-color);border-top:none;padding:var(--sba-cell-block-padding) var(--sba-cell-inline-padding);white-space:nowrap;text-align:center}.sba-data-pane th{background-color:var(--head-row-bg-color)}[data-ui=community] .sb-modal-body{margin-block-end:0}[data-ui=community] h4{font-weight:700;font-family:nyt-franklin,sans-serif;font-size:18px;margin:0 0 1px 0}[data-ui=community] p{margin:0 0 2px 0;font-size:16px}[data-ui=community] em{display:block;font-weight:500;font-size:14px;font-family:nyt-franklin,sans-serif}[data-ui=community] li{margin:0 0 12px 0}[data-ui=community] li ul{padding-left:20px;list-style:disc}[data-ui=community] li ul li{margin:0}[data-ui=community] li ul li a{color:var(--link-color)}[data-ui=community] li ul li a:hover{color:var(--link-hover-color)}[data-ui=milestones]{--flex-gap: 12px}[data-ui=milestones] .sba-milestone-table-wrapper{display:flex;flex-wrap:wrap;justify-content:space-between;gap:var(--flex-gap)}[data-ui=milestones] figcaption{padding:10px var(--sba-cell-inline-padding)}[data-ui=milestones] b{font-weight:700}[data-ui=milestones] progress{border-width:0;height:5px}[data-ui=milestones] .sba-col{width:calc(50% - var(--flex-gap)/2);min-width:145px}[data-ui=milestones] .sba-summaries{width:calc(48% - var(--flex-gap)/2);min-width:139px}[data-ui=milestones] .sba-summaries .sba-data-pane{table-layout:fixed;margin-block-end:var(--flex-gap)}[data-ui=milestones] .sba-summaries tr :is(td,th){text-align:center}[data-ui=milestones] .sba-tiers{width:calc(52% - var(--flex-gap)/2);min-width:149px}[data-ui=milestones] .sba-tiers .sba-data-pane .sba-preeminent:not(.sba-queen-bee){border-bottom:1px solid var(--border-color) !important}[data-ui=milestones] .sba-tiers .sba-queen-bee.sba-preeminent th::before{content:"";display:inline-block;background:no-repeat url(/games-assets/v2/assets/sb-stats-queen-bee.svg);width:19px;height:12px;margin-right:4px}[data-ui=milestones] .sba-data-pane{width:100%}[data-ui=milestones] .sba-data-pane td.sba-progress-box{padding:0}[data-ui=milestones] .sba-data-pane tr.sba-completed :is(th,td){color:var(--invalid-color)}[data-ui=milestones] .sba-data-pane tbody th{text-align:start}[data-ui=milestones] .sba-data-pane tbody td:nth-child(n+2){max-width:100px}[data-ui=header]{font-weight:bold;line-height:32px;flex-grow:2;text-indent:1px;justify-content:space-between;align-items:center}[data-ui=header] .sba-tool-btn{padding:1px;width:12px;aspect-ratio:1/1;display:inline-block;cursor:pointer}progress{-webkit-appearance:none;appearance:none;width:100%;border-radius:0;margin:0;padding:0;background:rgba(0,0,0,0);display:block;height:10px;border:1px var(--border-color) solid}progress::-webkit-progress-bar{background-color:rgba(0,0,0,0)}progress::-webkit-progress-value{background-color:var(--sb-yellow);height:4px}progress::-moz-progress-bar{background-color:var(--sb-yellow)}[data-ui=progressBar]{border-width:0 0 1px 0;height:6px}[data-ui=spillTheBeans]{text-align:center;padding:14px 0;font-size:38px;margin-top:-24px}[data-ui=menu]{position:relative;z-index:1}@keyframes pulse-fade{0%{text-shadow:rgba(255,0,0,.5) 1px 0 0;opacity:1}80%{text-shadow:rgba(255,0,0,0) 1px 0 20px}100%{opacity:0;text-shadow:none}}[data-ui=menu]:has([data-icon=new] svg) #sba-menu-entry-point::after{content:"•";animation:pulse-fade 9s ease-out 1 forwards;animation-delay:3s;color:rgba(255,0,0,.75);font-size:1.2em;position:absolute;top:0;right:3px}[data-ui=menu] .pane{color:var(--text-color);background:var(--body-bg-color);border:1px var(--border-color) solid;padding:5px;width:179px}[data-ui=menu] li{position:relative;line-height:1.8;white-space:nowrap;cursor:pointer;overflow:hidden;display:block;padding:5px 9px 5px 36px;font-size:18px}[data-ui=menu] li[data-icon=new]:has(svg){background:color-mix(in srgb, var(--games-yellow) 15%, transparent)}[data-ui=menu] li::before,[data-ui=menu] li::after{position:absolute;display:block}[data-ui=menu] li[data-icon=checkmark].checked::after{content:"✔";color:var(--sb-yellow);top:3px;left:10px;font-size:20px}[data-ui=menu] li[data-target=darkMode],[data-ui=menu] li[data-icon=sba]{border-top:1px solid var(--border-color)}[data-ui=menu] li[data-icon=sba]{color:currentColor}[data-ui=menu] li[data-icon=sba]:hover{color:var(--link-hover-color);text-decoration:underline}[data-ui=menu] li svg{display:inline-block;width:20px;height:20px;position:absolute;left:7px;top:10px}[data-ui=menu] li svg .shape{fill:var(--text-color)}[data-ui=menu] li svg .content{fill:var(--sb-yellow)}[data-ui=darkMode] .hive{width:auto;padding:0;flex-grow:2;display:flex}[data-ui=darkMode] .hive-cell{position:static;margin:auto;border:1px solid var(--border-color);padding:20px;width:168px;height:100%;border-radius:6px}[data-ui=darkMode] .cell-letter{font-size:8px;font-weight:600}[data-ui=darkMode] .sba-toggle-label{padding-inline-end:10px}[data-ui=darkMode] .sba-header-wrap{display:flex;justify-content:space-between}.sba-color-selector{display:flex;justify-content:space-around;gap:20px}.sba-color-selector .sba-dark-mode-preview{width:calc(40% - 10px);aspect-ratio:62.4/64.8}.sba-color-selector .sba-dark-mode-preview svg{width:100%;aspect-ratio:inherit;display:block}.sba-color-selector .sba-dark-mode-preview .sba-cell{fill:var(--area-bg-color)}.sba-color-selector .sba-dark-mode-preview .sba-cell text{fill:var(--text-color)}.sba-color-selector .sba-dark-mode-preview .sba-center-cell{fill:var(--sb-yellow)}.sba-color-selector .sba-dark-mode-preview .sba-center-cell text{fill:var(--highlight-text-color)}.sba-color-selector .sba-dark-mode-preview text{font-weight:700;font-size:6px;text-transform:uppercase;dominant-baseline:middle;text-anchor:middle;pointer-events:none}.sba-color-selector .sba-swatches{display:flex;flex-wrap:wrap;list-style:none;justify-content:space-around;padding:0;width:calc(60% - 10px)}.sba-color-selector .sba-swatches li{position:relative;overflow:hidden;width:25%;aspect-ratio:1/1;padding:2px}.sba-color-selector .sba-swatches li:has([for=sbaH360]){width:100%;line-height:50px;aspect-ratio:auto;height:auto}.sba-color-selector .sba-swatches label{border:1px var(--border-color) solid;display:block;overflow:hidden;cursor:pointer;text-align:center;height:100%}.sba-color-selector .sba-swatches label[for=sbaH360]{color:var(--highlight-text-color)}.sba-color-selector .sba-swatches input{position:absolute;left:-100px}.sba-color-selector .sba-swatches input:checked~label:not([for=sbaH360]){border-color:var(--sb-yellow)}.sba-googlified .sb-anagram{cursor:pointer}.sba-googlified .sb-anagram:hover{text-decoration:underline;color:var(--link-hover-color)}:is(#portal-game-toolbar,#js-mobile-toolbar) *{color:var(--text-color);border-color:var(--border-color)}:is(#portal-game-toolbar,#js-mobile-toolbar) *::selection{background-color:var(--body-bg-color)}:is(#portal-game-toolbar,#js-mobile-toolbar) .pz-dropdown__arrow{border-top-color:var(--text-color);border-bottom-color:var(--text-color);border-right-color:rgba(0,0,0,0);border-left-color:rgba(0,0,0,0)}.pz-mobile .pz-toolbar-button__sba{color:var(--text-color)}:is(.pz-dropdown,.pz-mobile-dropdown) :is(button[class*=pz-dropdown__],a[class*=pz-dropdown__]){background-color:var(--body-bg-color) !important}:is(.pz-dropdown,.pz-mobile-dropdown) :is(button[class*=pz-dropdown__],a[class*=pz-dropdown__]):hover{background:var(--menu-hover-color)}[data-sba-theme=dark] #portal-game-toolbar i,[data-sba-theme=dark] #js-mobile-toolbar i{filter:invert(1);background-color:rgba(0,0,0,0)}[data-sba-theme=dark] .conversion-banner__icon{filter:invert(1)}[data-sba-theme=dark] :is(.sb-stats-bar-rank__word-count,.sb-stats-bar-rank__text){filter:contrast(99%);color:#999}[data-sba-theme] .sb-modal-wordlist-items li .check.checked{border:none;height:auto;transform:none}[data-sba-theme] .sb-modal-wordlist-items li .check.checked::after{position:relative;content:"✔";color:var(--sb-yellow);top:4px;font-size:16px}[data-sba-theme] .sb-modal-header .sb-modal-letters{position:relative;top:-5px}.pz-toolbar-button:hover,[data-ui=menu] li:hover{background:var(--menu-hover-color);color:var(--text-color)}.pz-toolbar-button::selection,[data-ui=menu] li::selection{background-color:rgba(0,0,0,0)}[data-sba-submenu=true] [data-ui=menu]{background:var(--menu-hover-color);color:var(--text-color)}[data-ui=shortcuts] tbody tr th{text-align:start}[data-ui=shortcuts] tbody tr td:last-child{font-size:16px;cursor:pointer}[data-ui=shortcuts] tbody tr td:last-child::selection{color:currentColor;background-color:rgba(0,0,0,0)}[data-ui=shortcuts] tbody tr td:last-child[data-enabled=true]{color:var(--sba-success-color)}[data-ui=shortcuts] tbody tr td:last-child[data-enabled=false]{color:var(--sba-error-color)}[data-ui=grid] table{margin-left:-20px;width:calc(100% + 40px)}[data-ui=grid] tbody tr:last-child td{background-color:var(--head-row-bg-color)}[data-ui=grid] tbody tr td{padding:5px 0 !important}[data-ui=grid] tbody tr td:last-of-type{background-color:var(--head-row-bg-color)}.sba details[open] summary:before{transform:rotate(-90deg);left:10px;top:1px}.sba summary{list-style:none;padding:1px 15px 0 21px}.sba summary::marker{display:none}.sba summary:before{content:"❯";font-size:9px;position:absolute;display:inline-block;transform:rotate(90deg);transform-origin:center;left:7px;top:0}[data-sba-theme] :is(.sb-wordlist-items-pag,.sb-modal-wordlist-items)>li{position:relative}[data-sba-theme] :is(.sb-wordlist-items-pag,.sb-modal-wordlist-items)>li.sba-pangram{font-weight:700;border-bottom:2px var(--sb-yellow) solid}[data-sba-theme] :is(.sb-wordlist-items-pag,.sb-modal-wordlist-items)>li .sba-marks{position:absolute;right:0;bottom:3px}[data-sba-theme] :is(.sb-wordlist-items-pag,.sb-modal-wordlist-items)>li .sba-marks mark{display:none}[data-sba-theme] :is(.sb-wordlist-items-pag,.sb-modal-wordlist-items).sba-mark-s-active .sba-mark-s{display:inline-block}[data-sba-theme] :is(.sb-wordlist-items-pag,.sb-modal-wordlist-items).sba-mark-p-active .sba-mark-p{display:inline-block}[data-sba-theme] :is(.sb-wordlist-items-pag,.sb-modal-wordlist-items).sba-mark-d-active .sba-mark-d{display:inline-block}[data-sba-theme] :is(.sb-wordlist-items-pag,.sb-modal-wordlist-items).sba-mark-c-active .sba-mark-c{display:inline-block}[data-sba-theme] mark{background:rgba(0,0,0,0);font-size:11px;pointer-events:none;text-transform:uppercase}[data-sba-theme] mark::after{content:" "}[data-sba-theme] mark:last-of-type::after{content:normal}[data-sba-theme] mark::selection{background-color:rgba(0,0,0,0)}[data-sba-theme] .sba-pop-up.sb-modal-frame .sb-modal-content .sba-modal-footer{text-align:right;font-size:13px;border-top:1px solid var(--border-color);padding:10px 10px 0 10px}.sb-modal-frame .sb-modal-content{scrollbar-color:var(--invalid-color) var(--body-bg-color)}.sb-modal-frame .sb-modal-content::after{background:linear-gradient(180deg, transparent 0%, var(--modal-bg-color) 56.65%, var(--body-bg-color) 100%)}.sba-container{display:none}.sba{margin:var(--sba-app-margin);width:var(--sba-app-width);padding:var(--sba-app-padding);box-sizing:border-box}.sba *,.sba *:before,.sba *:after{box-sizing:border-box}[data-ui=menu] .pane{display:none}.pz-mobile [data-ui=menu]{display:flex;align-items:center;height:100%;padding:0 6px;top:2px}[data-sba-submenu=true] .pz-mobile-dropdown.show .pz-dropdown__list{display:none}[data-sba-submenu=true] .pz-game-toolbar{position:relative;z-index:4}[data-sba-submenu=true] [data-ui=menu] .pane{display:block;position:absolute;right:-16px;top:45px}[data-sba-submenu=true].pz-desktop .pane{right:-16px;top:55px}[data-sba-active=true]{--sba-app-width: 100px;--sba-app-padding: 0;--sba-app-margin: 0;--sba-game-offset: 12px;--sba-game-width: 1256px;--sba-mobile-threshold: 900px}[data-sba-active=true] .sba-container{display:block;position:absolute;top:50%;transform:translate(0, -50%);right:var(--sba-game-offset);z-index:1}[data-sba-active=true] .sba{border-color:rgba(0,0,0,0)}[data-sba-active=true] [data-ui=header]{display:none}[data-sba-active=true] .sb-expanded .sba-container{visibility:hidden;pointer-events:none}[data-sba-active=true] .sb-content-box{max-width:var(--sba-game-width);justify-content:space-between;position:relative}[data-sba-active=true] .sb-controls-box{max-width:calc(100vw - var(--sba-app-width))}@media(max-width: 370px){[data-sba-active=true] .sb-hive{width:70%}[data-sba-active=true].pz-spelling-bee-wordlist .hive-action:not(.hive-action__shuffle){font-size:.9em;margin:0 4px 8px;padding:23px 0}[data-sba-active=true] .hive-action:not(.hive-action__shuffle){width:71px;min-width:auto}[data-sba-active=true] [data-ui=milestones] .sb-modal-body{padding-inline:calc(var(--flex-gap)/2)}[data-sba-active=true] [data-ui=milestones] .sba-queen-bee.sba-preeminent th::before{content:normal}}@media(max-width: 450px){[data-ui=grid] table{table-layout:auto}[data-ui=grid] table.sba-data-pane tbody th{width:28px !important}[data-ui=grid] table.sba-data-pane thead th:first-of-type{width:28px !important}[data-ui=grid] table.sba-data-pane :is(thead,tbody) tr :is(th,td){width:auto;font-size:90%}}[data-sba-active] .pz-game-toolbar .pz-row{padding:0}@media(min-width: 516px){[data-sba-active] .pz-game-toolbar .pz-row{padding:0 12px}[data-sba-active].pz-desktop .sba{left:-175px}[data-ui=overview] .sba-data-pane tbody th{text-transform:none;width:31%}[data-ui=overview] .sba-data-pane tbody td{width:23%}[data-ui=overview] .sba-data-pane tbody tr:nth-child(1) th::after{content:"ords"}[data-ui=overview] .sba-data-pane tbody tr:nth-child(2) th::after{content:"oints"}[data-ui=overview] .sba-data-pane thead th{width:23%}[data-ui=overview] .sba-data-pane thead th:first-of-type{width:31%}[data-sba-active=true]{--sba-app-width: 138px;--sba-app-padding: 0 5px 5px}[data-sba-active=true] .sba{border-color:var(--border-color)}[data-sba-active=true] [data-ui=header]{display:flex}}@media(min-width: 900px){[data-sba-submenu=true].pz-desktop [data-ui=menu] .pane{right:0;top:55px}[data-sba-active=true]{--sba-app-width: 160px;--sba-app-padding: 0 8px 8px;--sba-app-margin: 66px 0 0 0}[data-sba-active=true] .sb-content-box{padding:0 var(--sba-game-offset)}[data-sba-active=true] .sb-controls-box{max-width:none}[data-sba-active=true] .sba-container{position:static;transform:none}[data-sba-active=true] .sb-expanded .sba-container{z-index:1}[data-sba-active=true].pz-desktop .sba{left:-191px}}@media(min-width: 768px){[data-sba-theme].pz-page .sba-pop-up.sb-modal-frame .sb-modal-content .sb-modal-body{padding-right:56px}[data-sba-theme].pz-page .sba-pop-up.sb-modal-frame .sb-modal-content .sb-modal-header{padding-right:56px}[data-sba-theme].pz-page .sba-pop-up.sb-modal-frame .sb-modal-content .sba-modal-footer{text-align:right;border-top:1px solid var(--border-color);padding-top:10px;width:calc(100% - 112px);margin:-8px auto 15px}}\n'}),t.on(i("destroy"),(()=>this.ui.remove()))}}var ft='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.042 15.915c-.418-.09-.867-.402-1.116-.776-.192-.289-.273-.558-.3-1C.561 13.06.517 5.163.574 4.573c.017-.185.032-.232.099-.314a.774.774 0 01.18-.156l.102-.059 7.291.007c6.859.006 7.304.01 7.52.053 1.545.312 2.778 1.251 3.324 2.531.125.293.21.592.284 1.008.089.492.09 1.307.004 1.734-.35 1.725-1.687 3.002-3.553 3.393a5.827 5.827 0 01-1.218.13c-.255.005-.427.02-.464.04-.102.055-.13.155-.147.528-.027.6-.119.996-.32 1.387-.253.492-.614.795-1.163.978l-.196.065-2.762.029c-3.94.04-7.293.034-7.513-.013zm13.386-4.909c.38-.033.602-.094.892-.243a2.398 2.398 0 001.257-1.645c.054-.266.055-.91.002-1.193-.166-.873-.74-1.596-1.492-1.88-.321-.12-.51-.142-1.232-.142h-.665l-.171.153-.008 2.365c-.004 1.3 0 2.392.008 2.426.008.033.046.09.083.124.067.062.078.063.538.063.258 0 .613-.013.788-.028z" fill="#fff"/><path d="M7.158 13.565c.191.064.255 0 .255 0s2.228-2.037 3.246-3.247c.892-1.082.955-2.8-.573-3.501-1.527-.7-2.8.764-2.8.764a2.508 2.508 0 00-3.502-.382l-.063.064c-.764.827-.51 2.228.063 2.992a38.304 38.304 0 003.247 3.183z" fill="#ff5e5b"/><path class="shape" d="M.984 3.495a.266.266 0 00-.038.003c-.51.071-.903.498-.93 1.013a.266.266 0 000 .014v.191c0 .003-.064 6.17.064 9.56a.266.266 0 000 .004 2.364 2.364 0 002.368 2.225c.002 0 6.42 0 9.485-.064h.445a.266.266 0 00.064-.007c.965-.241 1.523-.842 1.803-1.481.244-.556.26-1.096.27-1.54 1.708.003 3.202-.561 4.19-1.59 1.036-1.077 1.523-2.622 1.193-4.35a4.436 4.436 0 00-1.96-3.04 5.15 5.15 0 00-2.95-.938zm.033.532h13.97a4.617 4.617 0 012.649.843.266.266 0 00.007.005 3.903 3.903 0 011.728 2.682.266.266 0 00.003.01c.304 1.58-.133 2.93-1.053 3.888s-2.338 1.522-4.024 1.461a.266.266 0 00-.276.268c0 .432-.034 1.032-.264 1.555-.227.519-.625.963-1.43 1.17h-.395a.266.266 0 00-.005 0c-3.048.064-9.48.063-9.48.063a.266.266 0 00-.002 0A1.823 1.823 0 01.612 14.25C.486 10.89.55 4.718.55 4.718a.266.266 0 000-.002v-.178a.545.545 0 01.467-.51zm13.271 1.886a.266.266 0 00-.266.268v4.583a.266.266 0 00.26.266c.48.012.961-.009 1.439-.065a.266.266 0 00.027-.005 2.4 2.4 0 001.86-2.557 2.535 2.535 0 00-.564-1.622 2.178 2.178 0 00-1.81-.868zm.267.534h.688a.266.266 0 00.009 0 1.643 1.643 0 011.37.656.266.266 0 00.006.01c.297.364.457.822.45 1.292a.266.266 0 00.002.03 1.862 1.862 0 01-1.443 2.002c-.359.041-.72.048-1.081.048z"/></svg>';const yt=`newItems-${(t=>t.split(".").slice(0,2).join("-"))(o("options.version")||"0")}`,wt=()=>{s(`options.${yt}.seen`,!0)};var kt={isActive:!0,shouldHighlightNewItems:()=>{const{seen:t,installDate:e}=o(`options.${yt}`)||{};if(!0===t)return!1;if("number"==typeof e){if((Date.now()-e)/864e5>=4)return wt(),!1}return!0},markSeen:wt,ensureInstallDate:()=>{"string"!=typeof o(`options.${yt}.installDate`)&&s(`options.${yt}.installDate`,Date.now())}};const xt={warning:'<svg version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\r\n <path class="content" d="M11.998 4.625l9.228 15.98H2.773z"/>\r\n <path class="shape" d="m12.006 1.5059a.75.75 0 00-.64844.375l-11.252 19.488a.75.75 0 00.65039 1.125h22.506a.75.75 0 00.64844-1.125l-11.254-19.488a.75.75 0 00-.65039-.375zm.001953 2.25 9.9531 17.238h-19.906l9.9531-17.238z"/>\r\n <path fill="#000" d="m13.44 9.4763-.317 7.306h-2.247l-.317-7.306zm-.048 10.262h-2.785v-1.82h2.785z"/>\r\n</svg>',coffee:ft,new:'<svg version="1.1" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\r\n <path d="m2 6v20h24.1l4.05-7.2v-5.13l-4.96-7.68z" fill="#fff" stroke-width="0"/>\r\n <path d="m31.4 13.9-5-8c-0.73-1.17-2.01-1.88-3.39-1.88h-19c-2.21 0-4 1.79-4 4v16c0 2.21 1.79 4 4 4h19c1.38 0 2.66-0.711 3.39-1.88l5-8c0.812-1.3 0.812-2.94 0-4.24zm-1.7 3.18-5 8c-0.367 0.588-1 0.939-1.7 0.939h-19c-1.1 0-2-0.898-2-2v-16c0-1.1 0.897-2 2-2h19c0.693 0 1.33 0.352 1.7 0.939l5 8c0.403 0.645 0.403 1.48 0 2.12z" fill="#a10000"/>\r\n <path d="m26.9 12-2.14 8h-1.51l-1.59-5.88-1.45 5.88h-1.48l-2.19-8h1.53l1.55 5.83 1.44-5.83h1.46l1.59 5.83 1.52-5.83zm-10.8 8h-5.2v-8h5.14v1.19h-3.7v2.17h2.98v1.16h-2.98v2.24h3.76zm-6.96 0h-1.4l-3.04-5.11q-0.0703-0.117-0.229-0.381-0.0703-0.117-0.217-0.369v5.86h-1.16v-8h1.59l2.8 4.71q0.0352 0.0586 0.51 0.861v-5.57h1.14z" fill="#a10000"/>\r\n</svg>\r\n',bee:'<svg width="442pt" height="348pt" version="1.1" viewBox="0 0 442 348" xmlns="http://www.w3.org/2000/svg">\n <path d="m271 207c-0.645 0-1.3-0.0703-1.95-0.223l-19.2-4.38c-4.71-1.07-7.66-5.76-6.59-10.5 1.07-4.71 5.75-7.68 10.5-6.59l19.2 4.38c4.71 1.07 7.66 5.76 6.59 10.5-0.926 4.06-4.53 6.82-8.53 6.82zm-166-67.5c-11.9-6.34-22.9-13.4-31.4-20.4-33-26.9-43.7-64.6-24.9-87.7 18.8-23.1 57.9-20.2 90.9 6.73 11.1 9.05 24.1 23 35.3 38.2 4.02-13.2 9.17-25.9 14.6-35.7 19-33.9 51.3-49.5 75.1-36.1 23.9 13.3 27.5 49 8.57 82.9-8.34 14.9-22.3 32-36.7 45.5 53.7 15.9 91 56.7 111 84.7l85.7-4e-3c4.83 0 8.75 3.92 8.75 8.75s-3.92 8.75-8.75 8.75h-74.1c3.58 5.89 5.62 9.81 6.04 10.6 1.21 2.38 1.27 5.19 0.152 7.61-1.77 3.84-44.7 94.2-175 94.2-130 0-187-102-190-106-1.15-2.08-1.39-4.53-0.691-6.8 0.898-2.91 21.6-66.7 105-94.9zm21.9 181c-37.1-77.5-34-132-27.7-160-7.62 3.16-14.6 6.6-20.9 10.3-2.48 8.36-16.5 64.3 23.1 139 7.94 3.92 16.4 7.48 25.6 10.5zm1.62-268c-14.7-12-31-18.3-44.3-18.3-9.14 0-16.9 2.97-21.9 9.1-12.3 15.1-2.48 42.8 22.4 63 11.3 9.19 28 19 44.8 26.4 28.8 12.6 48.8 13.8 53 8.66 1.13-1.38 1.34-3.7 1.33-5.4-0.0625-8.34-5.06-20.2-12.6-32.7-0.0547-0.0859-0.105-0.176-0.16-0.258-11.2-18.5-27.9-38.4-42.6-50.5zm129 27.2c13.9-24.8 13.1-50.8-1.84-59.1-14.9-8.32-37.4 4.58-51.3 29.4-6.85 12.2-13.2 29.9-17 46.8 6.15 10.7 10.7 21.3 12.6 30.6 5.1 0.301 10.1 0.824 15 1.57 15.9-12.7 33.4-32.8 42.6-49.3zm80.5 156h-18.2c-4.83 0-8.75-3.92-8.75-8.75s3.92-8.75 8.75-8.75h5.21c-23.5-29.3-63.7-66.6-119-72.9-0.168 0.68-0.406 1.35-0.723 2.01-13.2 27.6-15.9 97.9 30.3 179 27.4-5.6 48.9-15.8 65.4-27.1-12.2-1.87-27-7.99-43.3-22.9-3.55-3.26-3.79-8.8-0.531-12.4 3.26-3.55 8.8-3.81 12.4-0.531 32.4 29.7 54.8 15.9 56.1 15.1 11.3-11.7 18-22.3 21.1-27.7-1.87-3.25-4.98-8.41-9.25-14.7zm-142 94.7c-42.2-76-41.1-137-35.4-170-7.43-1.16-15-3.23-22.1-5.64-5.32 12.5-23.6 70.2 34.2 175 5.75 0.477 11.7 0.762 17.7 0.762 1.92 0 3.67-0.168 5.55-0.207zm-142-52.3c-10.9-30.8-13.7-57-13.2-76.9-13.5 15.1-20.1 29-22.7 35.4 4.41 6.93 16.2 23.9 35.9 41.5z"/>\n <g transform="translate(-267 -474)">\n  <path d="m395 526c-14.7-12-31-18.3-44.3-18.3-9.14 0-16.9 2.97-21.9 9.1-12.3 15.1-2.48 42.8 22.4 63 11.3 9.19 28 19 44.8 26.4 28.8 12.6 48.8 13.8 53 8.66 1.13-1.38 1.34-3.7 1.33-5.4-0.0624-8.34-5.06-20.2-12.6-32.7-0.0547-0.0859-0.105-0.176-0.16-0.258-11.2-18.5-27.9-38.4-42.6-50.5zm129 27.2c13.9-24.8 13.1-50.8-1.84-59.1-14.9-8.32-37.4 4.58-51.3 29.4-6.85 12.2-13.2 29.9-17 46.8 6.15 10.7 10.7 21.3 12.6 30.6 5.1 0.301 10.1 0.824 15 1.57 15.9-12.7 33.4-32.8 42.6-49.3z" fill="#fff"/>\n  <path d="m394 794c-37.1-77.5-34-132-27.7-160-7.62 3.16-14.6 6.6-20.9 10.3-2.48 8.36-16.5 64.3 23.1 139 7.94 3.92 16.4 7.48 25.6 10.5zm80-175c-0.168 0.68-0.407 1.35-0.724 2.01-13.2 27.6-15.9 97.9 30.3 179 27.4-5.6 48.9-15.8 65.4-27.1-12.3-1.87-27-7.99-43.3-22.9-3.55-3.26-3.79-8.8-0.53-12.4 3.26-3.55 8.8-3.81 12.4-0.532 32.4 29.7 54.8 15.9 56.1 15.1 11.3-11.7 18-22.3 21.1-27.7-1.87-3.25-4.98-8.41-9.25-14.7v6e-3h-18.2c-4.83 0-8.75-3.92-8.75-8.75s3.92-8.75 8.75-8.75h5.21c-23.5-29.3-63.7-66.6-119-72.9zm44.3 40.3c0.723-0.0198 1.46 0.0516 2.2 0.221l19.3 4.38c4.71 1.07 7.66 5.76 6.59 10.5-0.926 4.06-4.53 6.82-8.53 6.82h-1e-3c-0.645 0-1.3-0.07-1.95-0.223l-19.2-4.38c-4.71-1.07-7.66-5.76-6.59-10.5 0.903-3.97 4.37-6.71 8.27-6.81zm-54.8 145c-42.2-76-41.1-137-35.4-170-7.43-1.16-15-3.23-22.1-5.64-5.32 12.5-23.6 70.2 34.2 175 5.75 0.477 11.7 0.762 17.7 0.762 1.92 0 3.67-0.168 5.55-0.207zm-142-52.3c-10.9-30.8-13.7-57-13.2-76.9-13.5 15.1-20.1 29-22.7 35.4 4.41 6.93 16.2 23.9 35.9 41.5z" fill="#f8cd05"/>\n </g>\n</svg>\n'};kt.ensureInstallDate(),kt.shouldHighlightNewItems()||delete xt.new;class zt extends L{getTarget(){return this.app.envIs("mobile")?S.$("#js-mobile-toolbar"):S.$("#portal-game-toolbar > div:last-of-type")}add(){if(!this.app.envIs("mobile"))return super.add();const t=S.$("#js-global-nav");if(t.classList.contains("show-mobile-toolbar"))return super.add();const e=new MutationObserver((t=>{for(let a of t)if("attributes"===a.type&&"class"===a.attributeName&&a.target.classList.contains("show-mobile-toolbar"))return e.disconnect(),super.add()}));e.observe(t,{attributes:!0})}getComponent(t){return t.dataset.component===this.app.key?this.app:this.app.plugins.has(t.dataset.component)?this.app.plugins.get(t.dataset.component):null}resetSubmenu(){setTimeout((()=>{this.app.domSet("submenu",!1)}),60)}constructor(t){super(t,"Menu",""),this.target=this.getTarget(),this.app.envIs("mobile")&&(this.addMethod="after");const e=["pz-toolbar-button__sba",this.app.envIs("mobile")?"pz-nav__toolbar-item":"pz-toolbar-button"];this.resetSubmenu();const a=S.ul({classNames:["pane"],data:{ui:"submenu"},events:{pointerup:t=>{if("A"===t.target.nodeName)return this.resetSubmenu(),t.target.click(),!0;const e=t.target.closest("li");if(!e||0!==t.button)return this.resetSubmenu(),!0;const a=this.getComponent(e);switch(e.dataset.action){case"boolean":this.app.domSet("submenu",!1),a.toggle(),e.classList.toggle("checked",a.getState());break;case"popup":this.app.domSet("submenu",!1),a.togglePopup();break;default:this.resetSubmenu()}}},content:S.li({classNames:this.app.getState()?["checked"]:[],attributes:{title:this.app.title},data:{component:this.app.key,icon:"checkmark",action:"boolean"},content:`Show ${o("title")}`})});this.ui=S.div({events:{pointerup:t=>{if(kt.markSeen(),0!==t.button)return!0;t.target.dataset.action||this.app.domSet("submenu",!this.app.domGet("submenu"))}},content:[S.span({attributes:{id:i("menu-entry-point","d")},content:o("title")}),a],aria:{role:"presentation"},classNames:e}),document.addEventListener("keyup",(t=>{!0===this.app.domGet("submenu")&&/^(Ent|Esc|Key|Dig)/.test(t.code)&&this.app.domSet("submenu",!1)})),S.$("#pz-game-root").addEventListener("pointerdown",(t=>{!0===this.app.domGet("submenu")&&this.app.domSet("submenu",!1)})),t.on(i("pluginsReady"),(t=>{t.detail.forEach(((t,e)=>{if(!t.menu||!t.menu.action)return!1;let o=t.menu.icon||null;const s={component:e,action:t.menu.action};let r=[];"boolean"===t.menu.action?(s.icon="checkmark",t.getState()&&(r=["checked"])):o&&(s.icon=o),a.append(S.li({classNames:r,attributes:{title:S.toNode(t.description).textContent},data:s,content:o&&xt[o]?[xt[o],t.title]:t.title}))})),a.append(S.li({attributes:{title:o("support.text")},data:{icon:i(),component:i("web"),action:"link"},content:S.a({content:[ft,o("support.text")],attributes:{href:o("support.url"),target:i()}})}))})),t.on(i("destroy"),(()=>this.ui.remove()))}}const _t=({cellData:t,cellObj:e})=>{if("string"==typeof t){const a=t.split("/");2===a.length&&a[0]===a[1]&&e.classNames.push(i("completed","d"))}};class St extends L{togglePopup(){return this.popup.isOpen?(this.popup.toggle(!1),this):(this.popup.setContent("subtitle",this.description).setContent("body",this.createTable()).toggle(!0),this)}createTable(){return new V(function(){const t=v("foundTerms"),e=v("answers"),a=Array.from(new Set(e.map((t=>t[0])))).sort(),o=Array.from(new Set(e.map((t=>t.length)))).sort(((t,e)=>t-e));a.push("∑"),o.push("∑");const s=[[""].concat(a)],r=Object.fromEntries(a.map((t=>[t,{fnd:0,all:0}]))),n=Object.fromEntries(o.map((t=>[t,structuredClone(r)])));for(const a of e){const e=a[0],o=a.length,s=[[o,e],[o,"∑"],["∑",e],["∑","∑"]];for(const[e,o]of s)n[e][o].all++,t.includes(a)&&n[e][o].fnd++}for(const[t,e]of Object.entries(n)){const o=[t];for(const t of a){const a=e[t];o.push(a.all>0?`${a.fnd}/${a.all}`:"-")}s.push(o)}return s}(),{hasHeadRow:!0,hasHeadCol:!0,classNames:["data-pane","th-upper","equal-cols","small-txt"].map((t=>i(t,"d"))).concat(["pane"]),cellCallbacks:[_t]}).ui}constructor(t){super(t,"Grid","The number of words by length and by first letter.",{runEvt:i("refreshUi")}),this.popup=new B(this.app,this.key).setContent("title",this.title),this.menu={action:"popup"},this.panelBtn=S.span({classNames:["sba-tool-btn"],events:{pointerup:()=>this.togglePopup()},attributes:{title:this.title},content:'<svg version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\r\n <path d="m0 0v24h24v-24h-24zm2 2h9v9h-9v-9zm11 0h9v9h-9v-9zm-11 11h9v9h-9v-9zm11 0h9v9h-9v-9z" stroke-dasharray="0.5, 0.5" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>\r\n</svg>\r\n'}),this.shortcuts=[{combo:"Shift+Alt+G",method:"togglePopup"}]}}class Ct extends L{toggleYesterday(){this.triggerPopup(".pz-toolbar-button__yesterday")}toggleStats(){this.triggerPopup(".pz-toolbar-button__stats")}triggerPopup(t){let e=O(this.app);e?(setTimeout(j,50),e.click()):S.$(t)?.click()}constructor(t){super(t,"NYT Shortcuts","Adds keyboard shortcuts to native NYT popups",{key:"nytShortcuts"}),this.shortcuts=[{combo:"Shift+Alt+Y",method:"toggleYesterday",label:"Yesterday's Answers"},{combo:"Shift+Alt+I",method:"toggleStats",label:"Statistics"}].map((t=>({...t,origin:"nyt"})))}}let Nt=new Map;const Pt=new Map([["ctrl",{canonical:"Control",human:"Ctrl"}],["control",{canonical:"Control",human:"Ctrl"}],["alt",{canonical:"Alt",human:"Alt"}],["altgr",{canonical:"AltGraph",human:"AltGr"}],["altgraph",{canonical:"AltGraph",human:"AltGr"}],["meta",{canonical:"Meta",human:"Meta"}],["shift",{canonical:"Shift",human:"Shift"}]]),Et=Array.from(new Set(Array.from(Pt.values()).map((t=>t.canonical)))),At={nyt:[],sba:[]},$t=t=>{const e=t.match(/(?:^|\+)(?:Key|Digit)?([A-Za-z0-9])(?:\+|$)/i);return e?e[1].toUpperCase():""},Tt=t=>t.split("+").map((t=>Pt.has(t)?Pt.get(t).human:t.replace(/^Digit|^Key/,""))).join(" + "),Mt=t=>t&&"object"==typeof t&&"string"==typeof t.combo&&"function"==typeof t.callback,jt=t=>{if(t instanceof KeyboardEvent){const e=[];Et.forEach((a=>{t.getModifierState(a)&&e.push(a)})),e.push(t.code),t=e}if(Mt(t)&&(t=t.combo),"string"==typeof t){t=t.replace(/\s+/g,"");const e=$t(t);t=t.split("+").map((t=>t.toUpperCase()===e?(isNaN(t)?"Key":"Digit")+t.toUpperCase():t))}if(!Array.isArray(t))throw new Error("Unsupported input type for combo normalization");const e=t.filter((t=>t.startsWith("Key")||t.startsWith("Digit"))).join("");return(t=t.filter((t=>t!==e)).map((t=>(t=t.toLowerCase(),Pt.has(t)?Pt.get(t).canonical:t.charAt(0).toUpperCase()+t.slice(1))))).sort(),e&&t.push(e),t.join("+")},Dt=t=>Ot(jt(t)),Lt=(t,e)=>{if(t=jt(t),!Mt(e))return!1;e.human||(e.human=Tt(e.combo)),void 0===e.enabled&&(e.enabled=!0),Nt.set(t,e),s(`options.${e.module}.shortcuts.${e.combo}`,e)},Ot=t=>{const e=jt(t);return!!Nt.has(e)&&Nt.get(e)};var Bt={set:Lt,add:t=>{if(!Mt(t))throw new Error("Invalid shortcut");t.combo=jt(t);const e=o(`options.${t.module}.shortcuts.${t.combo}`)||{};return Object.assign(t,{enabled:!0},e,{human:Tt(t.combo)}),Nt.has(t.combo)?(console.warn(`Ignoring ${t.human}, this shortcut is already registered`),!1):((t=>{const e=$t(t.combo);e&&/^[A-Z]$/.test(e)&&At[t.origin||"sba"].push(e)})(t),delete t.origin,Lt(t.combo,t),!0)},get:Ot,normalizeCombo:jt,handleShortcut:t=>{const e=Dt(t);return!(!e||!e.enabled)&&(t.preventDefault(),$t(jt(t))?(j().then(e.callback()),!0):(e.callback(),!0))},getCharacterKey:$t,requiresDeletion:(t,e)=>{const a=$t(jt(t));let o=O(e)?At.sba:At.sba.join(At.nyt);return a&&o.includes(a)},getSbaShortcutEntry:Dt,getRegistry:()=>Nt};class Ht extends L{togglePopup(){return this.popup.isOpen?(this.popup.toggle(!1),this):(this.popup.setContent("subtitle",this.description).setContent("body",this.createTable()).toggle(!0),this)}createTable(){return new V(this.getData(),{hasHeadRow:!0,hasHeadCol:!0,classNames:["data-pane","tbody-th-start","thead-th-bold"].map((t=>i(t,"d"))).concat(["pane"])}).ui}getData(){const t=[["","Shortcut","State"]];return Bt.getRegistry().forEach((e=>{const a=((t,e,a,o="",s="before")=>{const r=S.input({attributes:{type:"checkbox",id:t,role:"switch",checked:e},classNames:[i("toggle-switch","d")],aria:{role:"switch"},events:{change:t=>a(t)}});if(!o)return r;const n=S.label({attributes:{htmlFor:t},content:o,classNames:[i("toggle-label","d")]});switch(s){case"wrap":return n.append(r),n.classList.add(i("toggle-container","d")),n;case"before":return S.span({classNames:[i("toggle-container","d")],content:[n,r]});case"after":return S.span({classNames:[i("toggle-container","d")],content:[r,n]})}})(e.combo,e.enabled,(t=>{const e=Bt.get(t.target.closest("input").id);e.enabled=!e.enabled,Bt.set(e.combo,e)}));t.push([e.label,e.human,a])})),t}constructor(t){let e=["This is a list of all SBA shortcuts. Each one triggers a feature — for example, opening and closing a panel. \n            If a shortcut conflicts with your system or browser, you can disable it here."];t.envIs("mobile")&&e.push(S.i({content:"Note: On mobile devices, keyboard shortcuts may be limited or unavailable, depending on your setup."})),super(t,"Shortcuts",e.map((t=>S.p({content:t})))),this.popup=new B(this.app,this.key).setContent("title",this.title),this.menu={action:"popup"},this.shortcuts=[{combo:"Shift+Alt+S",method:"togglePopup"}]}}const It=new Map;var Ut=()=>It,qt=(t,e)=>{const a=new t(e);a.add(),It.set(a.key,a),(a.shortcuts||[]).map((t=>{const{method:e,...o}=t,s={...o,label:t.label||a.title,module:a.key,callback:()=>a[e]()};Bt.add(s)}))};new class extends D{domSet(t,e){return document.body.dataset[i(t)]=e,this}domUnset(t){return delete document.body.dataset[i(t)],this}domGet(t){return void 0!==document.body.dataset[i(t)]&&JSON.parse(document.body.dataset[i(t)])}getSyncData(){return Array.from(S.$$("li",this.resultList)).map((t=>t.textContent.trim()))}envIs(t){return document.body.classList.contains("pz-"+t)}focusGame(){return!!this.envIs("desktop")&&(S.$(".pz-moment__welcome.on-stage .pz-moment__button").addEventListener("pointerup",(()=>{window.scrollTo(0,0);const t=S.$(".pz-game-title-bar").getBoundingClientRect(),e=t.top+t.height-S.$(".pz-game-header").offsetHeight;window.scrollTo(0,e)}),!1),!0)}load(){S.waitFor(".sb-wordlist-items-pag",this.gameWrapper).then((t=>{this.observer=this.buildObserver(),this.modalWrapper=S.$("#portal-game-modals .sb-modal-wrapper",this.gameWrapper),this.resultList=t,g(this,this.getSyncData()),T(S.$(".sb-controls-box",this.gameWrapper)),this.add(),this.domSet("active",!0),Bt.add(this.shortcut),this.registerPlugins(),this.trigger(i("refreshUi"),null),document.dispatchEvent(new Event(i("ready"))),document.addEventListener("keydown",(t=>{Bt.getSbaShortcutEntry(t)&&(Bt.requiresDeletion(t,this)?this._lastShortcutEvent=t:Bt.handleShortcut(t))})),this.on(i("newInput"),(t=>{this._lastShortcutEvent&&(Bt.handleShortcut(this._lastShortcutEvent),this._lastShortcutEvent=null)})),this.focusGame()}))}getState(){return this.domGet("active")}toggle(){return this.domSet("active",!this.getState()),this}buildObserver(){const t=new MutationObserver((t=>{t.forEach((t=>{if(!(t.target instanceof HTMLElement))return!1;switch(!0){case"childList"===t.type&&t.target.isSameNode(this.modalWrapper):S.$(".sb-modal-frame.yesterday",t.target)&&this.trigger(i("yesterday"),t.target);break;case"childList"===t.type&&t.target.classList.contains("sb-hive-input-content"):this.trigger(i("newInput"),t.target);break;case"childList"===t.type&&t.target.isSameNode(this.resultList)&&!!t.addedNodes.length&&!!t.addedNodes[0].textContent.trim()&&t.addedNodes[0]instanceof HTMLElement:this.trigger(i("newWord"),t.addedNodes[0].textContent.trim())}}))})),e={target:this.gameWrapper,options:{childList:!0,subtree:!0,attributes:!0}};return t.observe(e.target,e.options),t}buildUi(){const t={};t[i("destroy")]=()=>{this.observer.disconnect(),this.container.remove(),this.domUnset("theme")};const e=[o("prefix")];return S.div({data:{id:this.key,version:o("version")},classNames:e,events:t})}registerPlugins(){return Object.values({Header:I,Overview:tt,LetterCount:at,FirstLetter:st,FirstTwoLetters:rt,Pangrams:nt,ProgressBar:q,SpillTheBeans:et,Grid:St,DarkMode:H,PangramHighlighter:mt,Googlify:gt,Styles:vt,Menu:zt,Milestones:ht,Community:bt,ShortcutScreen:Ht,TodaysAnswers:ut,NytShortcuts:Ct}).forEach((t=>{qt(t,this)})),this.plugins=Ut(),this.trigger(i("pluginsReady"),this.plugins),this}add(){this.container.append(this.ui),S.$(".sb-content-box",this.gameWrapper).prepend(this.container)}constructor(t){super(o("label"),{key:i("app")});const e=S.$(`[data-id="${this.key}"]`);e&&e.dispatchEvent(new Event(i("destroy"))),this.gameWrapper=t,this.ui=this.buildUi(),this.container=S.div({classNames:[i("container","d")]}),this.shortcut={combo:"Shift+Alt+A",label:"Assistant Panel",module:this.key,callback:()=>this.toggle()},this.load()}}(S.$("#js-hook-game-wrapper"))}();
